<div class="main-content">
    <div class="row">
        <div class="col-md-12">
            <div class="card ">
                <div class="card-header ">
                    <h4 class="card-title">Dados de utilizador</h4>
                </div>
                <div class="card-body ">
                    <form [formGroup]="form" method="#" action="#" *ngIf="canShowForm">

                        <!-- <div class="row">
                            <div class="col-sm-12 col-md-10">
                            </div>
                            <div class="col-sm-12 col-md-2">
                            </div>
                        </div> -->

                        

                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <h6 class="mb-2 mt-10">Perfis</h6>
                            <!-- <hr style="margin-top: 0;"> -->
                                <div class="form-group">
                                    <div class="checkbox-radios" >
                                        <div class="form-check">
                                            <label formArrayName="profiles"
                                                *ngFor="let profile of getFormControl(form, 'profiles')['controls']; let i = index"
                                                class="form-check-label" style="display: block;">
                                                <input class="form-check-input" type="checkbox" [formControlName]="i" (change)="onProfileChange(profiles[i], $event)">
                                                <span class="form-check-sign"></span>
                                                {{profiles[i].description}}
                                            </label>
                                            <error-msg [control]="getFormControl(form, 'profiles')"
                                                label="Perfis"></error-msg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <h6 class="mb-2 mt-10">Permiss√µes</h6>
                                <div class="form-group">
                                    <div class="checkbox-radios" >
                                        <div class="form-check">
                                            <label formArrayName="permissions"
                                                *ngFor="let profile of getFormControl(form, 'permissions')['controls']; let i = index"
                                                class="form-check-label" style="display: block;">
                                                <input class="form-check-input" type="checkbox" [formControlName]="i">
                                                <span class="form-check-sign"></span>
                                                {{permissions[i].description}}
                                            </label>
                                            <error-msg [control]="getFormControl(form, 'permissions')"
                                                label="Permissoes"></error-msg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>

                        <hr>
                        <!-- <div class="row">
                            <div class="col-md-6">
                                <label>Nome</label>
                                <div class="form-group">
                                    <input type="text" class="form-control" formControlName="name"
                                        placeholder="Digite o nome">
                                        <input type="hidden" formControlName="id">
                                    <error-msg [control]="getFormControl(form, 'name')" label="Nome"></error-msg>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label>Telefone</label>
                                <div class="form-group">
                                    <input type="text" class="form-control" formControlName="mobile"
                                        placeholder="Digite o telefone">
                                    <error-msg [control]="getFormControl(form, 'mobile')" label="Telefone"></error-msg>
                                </div>
                            </div>

                        </div>
                        <hr> -->
                        <div class="row">
                            <div class="col-md-6">
                                <label>Utilizador</label>
                                <div class="form-group">
                                    <input type="text" maxlength="9" number="true" class="form-control" formControlName="username"
                                        placeholder="Digite o utilizador">
                                    <error-msg [control]="getFormControl(form, 'username')"
                                        label="Utilizador"></error-msg>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label>Email</label>
                                <div class="form-group">
                                    <input type="email" class="form-control" formControlName="email"
                                        placeholder="Digite o email">
                                    <error-msg [control]="getFormControl(form, 'email')" label="Email"></error-msg>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="card-footer ">
                    <button type="submit" class="btn btn-info btn-round" (click)="onSubmit()">Salvar</button>
                    <a href="#" class="btn btn-warning btn-round ml-4" routerLink="/back-office/users/list">Cancelar</a>
                </div>
            </div>
        </div>
    </div>
</div>